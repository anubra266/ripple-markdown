
import { codeToHtml } from 'https://esm.sh/shiki@3.0.0'
import { cn } from '../lib/utils'

export component Code({code, language, class:className, ...rest}) {

	const divRef = async (node) => {
		const html = await codeToHtml(@code, {
			theme: 'vitesse-dark',
			lang: @language,
		});
		node.innerHTML = html;
	};
    
    <div {ref divRef} {...@rest} class={cn("[&>pre]:!bg-transparent text-sm", @className)}  />
}